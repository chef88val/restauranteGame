<!-- <pre>{{levelSelected|json}}</pre> -->
<ngb-tabset>
  <ngb-tab *ngFor="let it of levelSelected.data; let i = index">
    <ng-template ngbTabTitle>{{it[0]._tag}}</ng-template>
    <ng-template ngbTabContent>{{it[0]| json}} </ng-template>
  </ngb-tab>
</ngb-tabset>
<countdown [config]="configCountDown" (start)="onStart()" (finished)="onFinished()" (notify)="onNotify($event)">$!m!:$!s!</countdown>
<!-- #cd1<button (click)="cd1.pause()" class="btn btn-link btn-sm">pause</button>
<button (click)="cd1.resume()" class="btn btn-link btn-sm">resume</button>
<button (click)="cd1.stop()" class="btn btn-link btn-sm">stop</button>
<button (click)="cd1.restart()" class="btn btn-link btn-sm">restart</button>
<button (click)="changeLeftime()" class="btn btn-link btn-sm">less</button>-->
<!--<ngx-counter [(ngModel)]="counterStart" [limit]=100000 size="small" theme="red"></ngx-counter>-->
<!--<ngx-counter [countValue]=1 [limit]=10 font="cursive" theme="green"></ngx-counter>
<ngx-counter [countValue]=0 [speed]=1000 size="big" (change)="counterChanged($event)"></ngx-counter>
<ngx-counter [countValue]=-1 [limit]=counterFinish size="large" font="Arial" theme="gray"></ngx-counter>
<ngx-counter countValue=-2 limit=10 size="xl" color="gold" bgcolor="#F5F5DC"></ngx-counter>-->
<!-- <pre>{{waiterSelected.isFreeSpace()}}</pre> -->
<button class="btn btn-warning" *ngFor="let waiter of currentLevel.waiters; let i=index" type="button" [disabled]="currentLevel.waiters.length>0"
  (click)="selectWaiter(i)">{{waiter.name}}</button>
<button class="btn btn-warning" *ngFor="let cooker of currentLevel.cookers; let i=index" type="button" [disabled]="currentLevel.cookers.length>0"
  (click)="selectCooker(i)">{{cooker.name}}</button>

<button class="btn btn-primary" *ngIf="currentLevel.checkIsFreeTable()" type="button" (click)="loadTable()">loadTable</button>
<ng-container *ngIf="currentLevel.checkIsFreeTable(); then tables_free; else tables_not_free"></ng-container>
<ng-template #tables_free>
  Hay {{currentLevel.checkIsFreeTableLength()}} free
</ng-template>
<ng-template #tables_not_free>
  No hay mesa libre
</ng-template>

<button class="btn btn-primary" *ngIf="!currentLevel.checkIsFreeTable() && currentLevel.checkIsFreeGuest()" [disabled]="currentLevel.checkIsLoadGuest()" type="button" (click)="loadGuest()">loadGuest</button>
<ng-container *ngIf="currentLevel.checkIsFreeGuest(); then guests_free; else guests_not_free"></ng-container>
<ng-template #guests_free>
  Queda por atender {{currentLevel.checkIsFreeGuestLength()}}
</ng-template>
<ng-template #guests_not_free>
  No queda por atender a nadie
</ng-template>

<table class="table table-responsive table-striped">
    <thead>
      <tr>
        <th>Table{{currentLevel.checkIsLoadTable() }}-{{ currentLevel.checkIsLoadGuest()}}</th>
        <th>Drinks Left</th>
        <th>Food Left</th>
        <th>Drinks Served</th>
        <th>Food Served</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody *ngIf="currentLevel.checkIsLoadTable() && currentLevel.checkIsLoadGuest()">
      <tr *ngFor="let table of currentLevel.tables" >
        <td>{{table.name}} </td>
         <td>{{ levelSelected | json}}</td>
        <td>{{currentLevel.drinks.length}}</td>
        <td>{{currentLevel.foods.length}}</td>
        <td>{{waiterSelected.loadDrinkItems.length }}</td>
        <td>{{waiterSelected.loadFoodItems.length}}</td>
        <td *ngIf="table.status!=='closed'">
          <button *ngIf="waiterSelected.loadDrinkItems.length==0 && currentLevel.drinks.length>0 && !isBill  " type="button"
            (click)="loadItem(1,'drink', table.name)" [ngClass]="{'disabled': isFreeSpace}" class="btn btn-2x btn-primary">Load
            drink</button>
          <button *ngIf="waiterSelected.loadFoodItems.length==0 && currentLevel.foods.length>0 && !isBill" type="button"
            (click)="loadItem(1,'food', table.name)" class="btn btn-2x btn-success" [ngClass]="{'disabled': isFreeSpace}">Load
            food</button>
          <button *ngIf="waiterSelected.loadDrinkItems.length>0 && !isBill" type="button" (click)="serveItem(1,'drink', table.name)"
            class="btn btn-2x btn-primary">Serve
            drink</button>
          <button *ngIf="waiterSelected.loadFoodItems.length>0 && !isBill" type="button" (click)="serveItem(1,'food', table.name)"
            class="btn btn-2x btn-success">Serve
            food</button>
          <button *ngIf=" table.status ==='served'" type="button" (click)="sendBill(table.name)" class="btn btn-2x btn-warning">Bill</button>
          <button *ngIf=" table.status ==='billSended'" type="button" (click)="closeTable(table.name)" class="btn btn-2x btn-danger">Close</button>
        </td>
      </tr>
    </tbody>
  </table>
<!--<div *ngFor="let level of levelSelected">-->
<!--<table class="table table-responsive table-striped">
  <thead>
    <tr>
      <th>Table{{currentLevel.checkIsLoadTable() }}-{{ currentLevel.checkIsLoadGuest()}}</th>
      <th>Drinks Left</th>
      <th>Food Left</th>
      <th>Drinks Served</th>
      <th>Food Served</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody *ngIf="currentLevel.checkIsLoadTable() && currentLevel.checkIsLoadGuest()">
    <tr *ngFor="let table of currentLevel.tables" >
      <td>{{table.name}} </td>
       <td>{{ levelSelected | json}}</td>
      <td>{{currentLevel.drinks.length}}</td>
      <td>{{currentLevel.foods.length}}</td>
      <td>{{waiterSelected.loadDrinkItems.length }}</td>
      <td>{{waiterSelected.loadFoodItems.length}}</td>
      <td *ngIf="table.status!=='closed'">
        <button *ngIf="waiterSelected.loadDrinkItems.length==0 && currentLevel.drinks.length>0 && !isBill  " type="button"
          (click)="loadItem(1,'drink', table.name)" [ngClass]="{'disabled': isFreeSpace}" class="btn btn-2x btn-primary">Load
          drink</button>
        <button *ngIf="waiterSelected.loadFoodItems.length==0 && currentLevel.foods.length>0 && !isBill" type="button"
          (click)="loadItem(1,'food', table.name)" class="btn btn-2x btn-success" [ngClass]="{'disabled': isFreeSpace}">Load
          food</button>
        <button *ngIf="waiterSelected.loadDrinkItems.length>0 && !isBill" type="button" (click)="serveItem(1,'drink', table.name)"
          class="btn btn-2x btn-primary">Serve
          drink</button>
        <button *ngIf="waiterSelected.loadFoodItems.length>0 && !isBill" type="button" (click)="serveItem(1,'food', table.name)"
          class="btn btn-2x btn-success">Serve
          food</button>
        <button *ngIf=" table.status ==='served'" type="button" (click)="sendBill(table.name)" class="btn btn-2x btn-warning">Bill</button>
        <button *ngIf=" table.status ==='billSended'" type="button" (click)="closeTable(table.name)" class="btn btn-2x btn-danger">Close</button>
      </td>
    </tr>
  </tbody>
</table>-->
 
<!--</div>-->
